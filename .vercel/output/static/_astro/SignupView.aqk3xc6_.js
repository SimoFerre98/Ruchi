import{j as e,L as h,s as f}from"./loader-circle.C62Pet54.js";import{r as s}from"./index.BfkTPTwy.js";import{U as b}from"./user.DA9NWBCA.js";import{M as y}from"./mail.BPT9p8K_.js";import{L as j}from"./lock.DN0fU6r5.js";import{A as w}from"./arrow-right.BlIXXNt2.js";function A(){const[t,m]=s.useState(""),[l,x]=s.useState(""),[i,g]=s.useState(""),[o,n]=s.useState(!1),[d,c]=s.useState(null);async function p(a){a.preventDefault(),n(!0),c(null);try{const{data:r,error:u}=await f.auth.signUp({email:l,password:i,options:{data:{full_name:t,avatar_url:`https://api.dicebear.com/7.x/initials/svg?seed=${t}`}}});if(u)throw u;r.session?window.location.href="/dashboard":(alert("Controlla la tua email per confermare la registrazione!"),window.location.href="/login")}catch(r){console.error("Signup error:",r),c(r.message||"Errore durante la registrazione")}finally{n(!1)}}return e.jsx("div",{className:"min-h-[80vh] flex items-center justify-center px-4",children:e.jsxs("div",{className:"w-full max-w-md bg-white rounded-2xl shadow-xl border border-gray-100 p-8 space-y-8",children:[e.jsxs("div",{className:"text-center space-y-2",children:[e.jsx("img",{src:"/logo.png",alt:"Ruchi Logo",className:"w-16 h-16 mx-auto mb-4 rounded-xl shadow-lg shadow-indigo-100 dark:shadow-none"}),e.jsx("h1",{className:"text-3xl font-bold text-gray-900 tracking-tight",children:"Crea Account ✨"}),e.jsx("p",{className:"text-gray-500",children:"Unisciti a Ruchi e inizia a gestire le spese."})]}),d&&e.jsxs("div",{className:"p-4 bg-red-50 text-red-600 text-sm rounded-lg border border-red-100 flex items-center gap-2",children:[e.jsx("span",{children:"⚠️"})," ",d]}),e.jsxs("form",{onSubmit:p,className:"space-y-5",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Nome Completo"}),e.jsxs("div",{className:"relative",children:[e.jsx(b,{className:"w-5 h-5 text-gray-400 absolute left-3 top-1/2 -translate-y-1/2"}),e.jsx("input",{type:"text",required:!0,value:t,onChange:a=>m(a.target.value),className:"w-full pl-10 pr-4 py-3 border border-gray-200 rounded-xl focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 outline-none transition-all",placeholder:"Mario Rossi"})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Email"}),e.jsxs("div",{className:"relative",children:[e.jsx(y,{className:"w-5 h-5 text-gray-400 absolute left-3 top-1/2 -translate-y-1/2"}),e.jsx("input",{type:"email",required:!0,value:l,onChange:a=>x(a.target.value),className:"w-full pl-10 pr-4 py-3 border border-gray-200 rounded-xl focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 outline-none transition-all",placeholder:"tuo@email.com"})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Password"}),e.jsxs("div",{className:"relative",children:[e.jsx(j,{className:"w-5 h-5 text-gray-400 absolute left-3 top-1/2 -translate-y-1/2"}),e.jsx("input",{type:"password",required:!0,minLength:6,value:i,onChange:a=>g(a.target.value),className:"w-full pl-10 pr-4 py-3 border border-gray-200 rounded-xl focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 outline-none transition-all",placeholder:"Min. 6 caratteri"})]})]}),e.jsx("button",{type:"submit",disabled:o,className:"w-full bg-indigo-600 hover:bg-indigo-700 text-white font-semibold py-3.5 rounded-xl transition-all shadow-lg shadow-indigo-200 flex items-center justify-center gap-2 disabled:opacity-70 disabled:cursor-not-allowed",children:o?e.jsx(h,{className:"w-5 h-5 animate-spin"}):e.jsxs(e.Fragment,{children:["Crea Account ",e.jsx(w,{className:"w-5 h-5"})]})})]}),e.jsx("div",{className:"pt-4 border-t border-gray-100 text-center",children:e.jsxs("p",{className:"text-sm text-gray-600",children:["Hai già un account?"," ",e.jsx("a",{href:"/login",className:"text-indigo-600 font-semibold hover:underline",children:"Accedi qui"})]})})]})})}export{A as default};
